<!--Add 'Done' button-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My TODO App!</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />

    <script>

        var rowTemplate = function (text) {
            return '<li class="list-group-item" style="padding-bottom: 20px;">' +
                    '<span>' + text + '</span>' +
                    //we will need this class - taskDone to identify a button, to add behaviour to it
                    //we can't use id='taskDone' because there will be many buttons and id should be unique for each element
                    '<button class="taskDone btn btn-success btn-sm pull-right">Done</button>' +
                    '</li>'
        };

        $(document).on('click', '.taskDone', function () {
            // this function is called when the button is clicked
            // inside this function this button is accessible by this
            console.log(this);

            // wrapping up any html element with $() allows us to use additional features provided by jQuery framework
            console.log($(this));
            
            //$(this).closest('li') - find the closest <li></li> element - the one that wraps the button which was clicked
            //.find('span') - then in this <li></li> element find a span element
            //.css - change a style of this <span> element - add a line through a text
            $(this).closest('li').find('span').css('text-decoration', 'line-through')
        });

        $(document).on('click', '#addButton', function () {
            var tasksListElement = $('#tasksList');
            var taskInputValue = $('#taskInput').val()

            tasksListElement.append(rowTemplate(taskInputValue));
        });

    </script>
</head>
<body>

<div class="container">
    <div class="row">
        <div class="col-xs-6 col-xs-offset-3">
            <!--Step 1b - refactor markup -->
            <div class="row">
                <div class="form-group col-xs-9">
                    <input type="text" class="form-control" id="taskInput">
                </div>
                <button type="submit" class="btn btn-primary col-xs-2" id="addButton">Add</button>
            </div>

            <!--'ul' stands for unordered list-->
            <!--'li stands for list item-->
            <!--Name of tasks should be more real life exmple-->
            <ul id="tasksList" class="list-group">
            </ul>
        </div>
    </div>
</div>


</body>
</html>